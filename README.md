我正在完成分布式系统大作业，想实现一个分布式键值存储系统。

题目
设计并实现一个分布式键值（key-value）存储系统，可以是
基于磁盘的存储系统，也可以是基于内存的存储系统，可以是主从
结构的集中式分布式系统，也可以是 P2P 式的非集中式分布式系
统。能够完成基本的读、写、删除等功能，支持缓存、多用户和数
据一致性保证, 提交时间为考试之后一周内。
2. 要求
 1）、必须是分布式的键值存储系统，至少在两个节点或者两个
进程中测试；
 2）、可以是集中式的也可以是非集中式；
 3）、能够完成基本的操作如：PUT、GET、DEL 等；
 4）、支持多用户同时操作；
 5）、至少实现一种面向客户的一致性如单调写；
 6）、需要完整的功能测试用例；
 7）、涉及到节点通信时须采用 RPC 机制；

权衡作业要求和实现复杂度后，我做出一下设计决策：

1. 使用python编程，不同进程使用xmlrpc通信
2. 集中式架构：总共三种进程Orche、Store、Client
   1. Orche：由单一的入口点完成客户端接口、协调器、服务发现等功能
   2. Store：其他节点仅负责存储，数据副本仅存在于一个Store，对入口点暴露rpc存储接口
   3. Client：此外还有一个支持交互式或库调用的客户端
3. Orche.py 功能设计
   1. 通过可配置的端口，向客户端提供 `PUT`/`GET`/`DEL` 操作，键值都为byte，支持多用户
   2. 使用取模唯一确定存储节点，不考虑冗余
   3. 一致性需求：需要支持单调读和单调写。由于没有考虑冗余容错，数据副本只存在两个，即持久化的Store和写入中的Orche。我考虑仅读取已提交到Store的数据，并为维护一个表{key: (isDirty, newVal)}和全局锁。写入请求进来后，尝试获得锁；若表没有该键，则提交该写请求并记录进表；若表有该键，则该键标记为脏并记录新值；数据提交完成后，若该键不脏，则清除，否则提交新值，并修改其为不脏。
   4. 通过可配置的端口，向Store提供存储节点注册功能，避免写死太多端口导致可扩展性差；但为了方便，存储节点数在系统启动时确定，所以不需要考虑扩展节点问题。存储节点不足，如未就绪或掉线，则不提供服务。
4. Store.py 功能设计
   1. 启动时按配置向Orche注册服务，rpc端口自己选，不冲突即可
   2. 提供rpc接口，向Orche提供必要的存储接口
   3. 全存内方案
5. Client.py 功能设计
   1. 通过配置的地址端口和Orche通信，提供 `PUT`/`GET`/`DEL`  接口
   2. 直接运行脚本时，提供命令行界面
6. 脚本接口设计
   1. 上面提供了3个主要脚本的内容，功能实现需要封装成类以便于进行自动化测试，但同时要提供直接运行的接口（`__name__=='__main__'`），配置从类创建或argparse传入
   2. 如果有共通的库，可以提取到共享的脚本，不过我没有看到太多需要共享的代码

不用记着写代码，请先帮我看看这种设计如何，是否符合作业要求的同时，实现难度不高

